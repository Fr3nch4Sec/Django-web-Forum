<!DOCTYPE html>
{% load static %}
<html lang="fr" {% if request.session.dark_mode %}class="dark" {% endif %}>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forum</title>
    <link href="{% static 'css/output.css' %}" rel="stylesheet">
    <link rel="icon" href="{% static 'images/love.png' %}" type="image/png">
    <script src="{% static 'js/script.js' %}" defer></script>
</head>

<body class="bg-gray-100 dark:bg-gray-900">
    <nav class="bg-blue-600 p-4 text-white dark:bg-blue-800">
        <a href="{% url 'sujet_list' %}" class="mr-4">Accueil</a>
        {% if user.is_authenticated %}
        <a href="{% url 'sujet_create' %}" class="mr-4">Nouveau Sujet</a>
        <a href="{% url 'notifications' %}" class="mr-4">
            Notifications
            {% if unread_notifications > 0 %}
            <span class="bg-red-600 text-white text-xs rounded-full px-2 py-1">{{ unread_notifications }}</span>
            {% endif %}
        </a>
        <form action="{% url 'logout' %}" method="post" style="display: inline;">
            {% csrf_token %}
            <button type="submit" class="bg-transparent text-white hover:underline">DÃ©connexion</button>
        </form>
        {% else %}
        <a href="{% url 'login' %}">Connexion</a>
        {% endif %}
        <button id="dark-mode-toggle"
            class="ml-4 px-2 py-1 bg-gray-200 text-black dark:bg-gray-700 dark:text-white rounded">
            Toggle Mode Sombre
        </button>
    </nav>
    <div class="container mx-auto p-4">
        {% block content %}
        {% endblock %}
    </div>
</body>

</html>